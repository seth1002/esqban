<html>
	<style type="text/css">
.container{
    position:relative;
    border:1px solid red;
    height:50px;
}
.slider{
    height:50px;
    width:20px;
    background:green; 
    position:absolute;
}
	</style>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<script type="text/JavaScript">
$(function() {
    $('.slider').slider();
});

$.fn.slider = function() {
    return this.each(function() {
        var $el = $(this);
        //$el.css('top', 0);
		$el.css('left', 0);
        var dragging = false;
		var resizing_left = false;
		var resizing_right = false;
        //var startY = 0;
        //var startT = 0;
		var startX = 0;
		var startL = 0;
        $el.mousedown(function(ev) {
            //startY = ev.clientY;
			//startT = $el.css('top');
			startX = ev.clientX;
            startL = $el.css('left');
			console.log("ev.clientX:" + ev.clientX);
			var left = $el.offset().left;
			var right = left + $el.width();
			console.log("left:" + left);
			console.log("right:" + right);
			var GRIP_SIZE = 8;
			if( Math.abs(ev.clientX - left) < GRIP_SIZE ) {
				resizing_left = true;
			} else if( Math.abs(ev.clientX - right) < GRIP_SIZE ) {
				resizing_right = true;
			} else {
				dragging = true;
			}
        });
        $(window).mousemove(function(ev) {
            if (dragging) {
                // calculate new top
                //var newTop = parseInt(startT) + (ev.clientY - startY);

				// calculate new left
				var newLeft = parseInt(startL) + (ev.clientX - startX);
                
                //stay in parent
                //var maxTop =  $el.parent().height()-$el.height();
                //newTop = newTop<0?0:newTop>maxTop?maxTop:newTop;
                //$el.css('top', newTop );
				var maxLeft = $el.parent().width()-$el.width();
				newLeft = newLeft<0?0:newLeft>maxLeft?maxLeft:newLeft;
				$el.css('left', newLeft );
            } else if(resizing_left) {
				console.log("resizing_left");
				var newLeft = parseInt(startL) + (ev.clientX - startX) - 1;
				$el.css('left', newLeft);
				$el.width( $el.width() + 1);
			} else if(resizing_right) {
				console.log("resizing_right");
				$el.width( $el.width() + 1);
			}
        }).mouseup(function() {
            dragging = false;
			resizing_left = false;
			resizing_right = false;
        });
    });
}
	</script>
	<div><div class="container">
		<div class="slider"/>
		</div>
	</div><br/>
	<div class="container">
		<div class="slider"/>
	</div>
</html>
